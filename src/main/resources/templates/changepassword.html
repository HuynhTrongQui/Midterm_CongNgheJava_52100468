<!DOCTYPE html>
<html lang="en">
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <title>Forgot Password</title>
    <link rel="icon" href="/assets/phone.png" type="image/x-icon">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Free HTML Templates" name="keywords">
    <meta content="Free HTML Templates" name="description">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap"
          rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <!-- Libraries Stylesheet -->
    <link th:href="@{assets2/lib/owlcarousel/assets/owl.carousel.min.css}" rel="stylesheet">
    <!-- Customized Bootstrap Stylesheet -->
    <link th:href="@{/css/styleTemplate.css}" rel="stylesheet">
</head>
<body>

<!-- start #header -->
<div th:replace="~{fragments/header :: header}"></div>
<!-- end #header -->

<!-- Page Header Start -->
<div class="container-fluid bg-secondary mb-5">
    <div class="d-flex flex-column align-items-center justify-content-center" style="min-height: 300px">
        <h1 class="font-weight-semi-bold text-uppercase mb-3">Change Password</h1>
        <div class="d-inline-flex">
            <p class="m-0"><a th:href="@{/}">Home</a></p>
            <p class="m-0 px-2">-</p>
            <p class="m-0">Change Password</p>
        </div>
    </div>
</div>
<!-- Page Header End -->

<div class="container-fluid">
    <div class="row">
        <div class="col-3"></div>
        <div class="col-6">
            <form th:action="@{/change}" method="post" id="passwordChangeForm" th:object="${passwordRequest}">
                <div class="form-group">
                    <label for="password-old" class="form-label">Password Old</label>
                    <input id="password-old"
                           name="passwordOld"
                           type="password"
                           placeholder="Password old!"
                           class="form-control"
                           th:field="*{passwordOld}"
                    >
                </div>
                <div class="form-group">
                    <label for="password-new" class="form-label">Password New</label>
                    <input id="password-new"
                           name="passwordNew"
                           type="password"
                           placeholder="Password New"
                           class="form-control"
                           th:field="*{passwordNew}"
                    >
                </div>
                <div class="form-group">
                    <label for="password-confirm" class="form-label">Password Confirm</label>
                    <input id="password-confirm"
                           name="password-confirm"
                           type="password"
                           placeholder="Password Confirm"
                           class="form-control">
                </div>
                <span class="form-message"></span>
                <!--Message-->
                <div class="col-12 form-group " th:if="${errors}">
                    <div class="alert alert-danger" role="alert">
                        <h2>Error</h2>
                        <ul>
                            <li th:each="items :${errors}" th:text="${items}"></li>
                        </ul>
                    </div>
                </div>
                <div th:if="${error}">
                    <div class="alert alert-danger" role="alert">
                        <h2 th:text="${error}"></h2>
                    </div>
                </div>
                <div th:if="${success}">
                    <div class="alert alert-success" role="alert">
                        <h2 th:text="${success}"></h2>
                    </div>
                </div>
                <button class="form-submit col-12 p-2" name="login-submit" style="background-color: #D19C97">
                    Change Password
                </button>
            </form>
        </div>
        <div class="col-3"></div>
    </div>
</div>

<!-- Footer -->
<div th:replace="~{fragments/footer :: footerr}"></div>
<!--!Footer-->
<!-- Back to Top -->
<a href="#" class="btn btn-primary back-to-top"><i class="fa fa-angle-double-up"></i></a>


<!-- JavaScript Libraries -->
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>

<script th:src="@{/assets2/lib/easing/easing.min.js}"></script>
<script th:src="@{/assets2/lib/owlcarousel/owl.carousel.min.js}"></script>
<!-- Contact Javascript File -->
<script th:src="@{/assets2/mail/jqBootstrapValidation.min.js}"></script>
<script th:src="@{/assets2/mail/contact.js}"></script>

<!-- Template Javascript -->
<script th:src="@{/assets2/js/main.js}"></script>

<script>
    const form = document.getElementById('passwordChangeForm');
    form.addEventListener('submit', function (event) {
        const passwordNew = form.querySelector('#password-new').value;
        const passwordConfirm = form.querySelector('#password-confirm').value;

        if (passwordNew !== passwordConfirm) {
            event.preventDefault();
            const formMessage = form.querySelector('.form-message');
            formMessage.textContent = "Passwords do not match";
            formMessage.style.color = "red";
        }
    });
</script>

<!--<script>
    if ($('.alert') != null) {
        $(".alert").fadeTo(2000, 500).slideUp(500, function () {
            $(".alert").slideUp(500);
        });
    }
</script>-->
</html>
